<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>syndro | CTF Writeups</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
  
  <script>
    if (localStorage.theme === "light" || (!localStorage.theme && window.matchMedia("(prefers-color-scheme: light)").matches)) {
      document.documentElement.classList.add("light");
    }
  </script>

  <style>
    @keyframes celebration {
      0%, 100% { filter: drop-shadow(0 0 6px #0f0); transform: scale(1); }
      50% { filter: drop-shadow(0 0 30px #39ff14); transform: scale(1.15); }
    }
    .visitor-text {
      font-family: 'Roboto Mono', monospace;
      color: #0f0;
      font-size: 18px;
      font-weight: 700;
      filter: drop-shadow(0 0 6px #0f0);
    }
    .visitor-text.celebrate { animation: celebration 3s ease-in-out; }
  </style>
</head>
<body>
  <canvas id="matrix"></canvas>
  <div id="scanline-overlay"></div>
  <div id="liveClock"></div>

  <aside class="sidebar-left">
    <!-- ... your existing sidebar content ... -->
    <div class="stats-card">
      <h3>Overall Progress</h3>
      <!-- ... progress ring ... -->
    </div>
    <div class="recent-solves"><h4>Recent Solves</h4><ul id="recentSolvesList"></ul></div>
    <div class="quick-links">
      <a href="https://github.com/syndro-1" target="_blank">GitHub</a>
      <a href="https://x.com/Syndro_1" target="_blank">X / Twitter</a>
      <a href="https://discordapp.com/users/313717103150759950" target="_blank">Discord</a>
      <a href="https://medium.com/@syndro" target="_blank">Medium</a>
      <a href="https://www.linkedin.com/in/ibrahim-mahmoud-15905a340/" target="_blank">Linked-in</a>
    </div>

    <!-- FINAL WORKING COUNTER (no library, direct API call) -->
    <div class="visitor-counter">
      <span id="visitorCount" class="visitor-text">Loading...</span> visitors
    </div>

    <script>
      // Direct, simple, working 100% in 2025 with your token
      fetch("https://api.counterapi.dev/v2/shiraoris-team-1851/first-counter-1851/up", {
        method: "POST",
        headers: {
          "Authorization": "Bearer ut_HzUVGGynHOCPzSeJ4mZyAWUJtTLKWJkU0MxmVWtd",
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ amount: 1 })
      })
      .then(r => r.json())
      .then(data => {
        const count = data.up_count || data.count || 0;
        const el = document.getElementById("visitorCount");
        el.textContent = Number(count).toLocaleString();
        if (count % 1000 === 0 && count > 0) el.classList.add("celebrate");
      })
      .catch(() => {
        document.getElementById("visitorCount").textContent = "∞";
      });
    </script>
  </aside>

  <!-- Rest of your page (unchanged) -->
  <div class="container">
    <div class="toggle" id="themeToggle">Theme</div>
    <div class="ctf-toggle" id="ctfToggle">CTFs</div>
    <header><h1 id="glitch">Syndro</h1></header>
    <div class="terminal" id="terminal">
      <div>$ whoami</div>
      <div>Syndro, Never thought I'd fall in love with web</div>
      <div>$ cat bio.txt</div>
      <div class="typing">CTF player @0xL4ugh • Web lover?! • Student at AOU</div>
    </div>
    <div class="bio">
      <p>Tired most of the time.</p><br><br><br>
      <p>
        <a href="https://github.com/syndro-1" target="_blank">GitHub</a> •
        <a href="https://x.com/Syndro_1" target="_blank">X/Twitter</a> •
        <a href="https://discordapp.com/users/313717103150759950" target="_blank">Discord</a> •
        <a href="https://medium.com/@syndro" target="_blank">Medium</a> •
        <a href="https://www.linkedin.com/in/ibrahim-mahmoud-15905a340/" target="_blank">Linked-in</a>
      </p>
    </div>

    <h2 class="section-title">
      Writeups!
      <input type="text" id="searchBar" placeholder="Search writeups..." autocomplete="off">
    </h2>

    <div class="tabs" id="challengeTabs">
      <div class="tab active" data-cat="all">All</div>
      <div class="tab" data-cat="misc">Misc</div>
      <div class="tab" data-cat="web">Web</div>
      <div class="tab" data-cat="crypto">Crypto</div>
      <div class="tab" data-cat="pwn">Pwn</div>
      <div class="tab" data-cat="forensics">Forensics</div>
    </div>

    <div class="cards" id="challengeCards"></div>
    <footer>• syndro •</footer>
  </div>

  <div class="modal-overlay" id="ctfModal">
    <div class="modal-content">
      <div class="modal-header"><h2>My CTFs</h2><div class="close-modal">×</div></div>
      <div class="ctf-grid" id="ctfGrid"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
