:root{--bg:#0d1117;--card:#161b22;--text:#f0f6fc;--accent:#58a6ff;--green:#3fb950;--red:#f85149;--border:#30363d}
.light{--bg:#ffffff;--card:#f6f8fa;--text:#24292f;--border:#d0d7de}

*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Roboto Mono',monospace;background:var(--bg);color:var(--text);transition:all .4s;overflow-x:hidden}
canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;opacity:0.2}

#scanline-overlay{
  position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,255,180,0.03) 2px,rgba(0,255,180,0.03) 4px);
  animation:scanline 8s linear infinite;
}
@keyframes scanline{0%{transform:translateY(-100%)}100%{transform:translateY(100%)}}

.container{max-width:90vw;margin:0 auto;padding:20px 20px 20px 300px;position:relative;z-index:2}

/* ——— SIDEBAR ——— */
.sidebar-left{
  position:fixed;top:0;left:0;bottom:0;width:280px;background:rgba(13,17,23,0.95);
  border-right:2px solid var(--border);padding:40px 20px;z-index:15;overflow-y:auto;
  backdrop-filter:blur(12px);transition:all .4s;
  /* REMOVE UGLY SCROLL ARROWS */
  scrollbar-width:none;           /* Firefox */
  -ms-overflow-style:none;        /* IE/Edge */
}
.sidebar-left::-webkit-scrollbar{display:none}  /* Chrome/Safari */

.light .sidebar-left{background:rgba(255,255,255,0.95)}
.sidebar-left h3,.sidebar-left h4{color:var(--accent);margin-bottom:16px}
.stats-card{text-align:center;margin-bottom:40px}

/* ——— PROGRESS CIRCLE + TRAILS ——— */
.overall-container{position:relative;width:220px;height:220px;margin:30px auto;}
.progress-ring-big{position:absolute;top:10px;left:10px;width:200px;height:200px;}
.progress-ring-big svg{width:100%;height:100%;transform:rotate(-90deg);}
.circle-bg-dynamic{fill:none;stroke:var(--green);stroke-width:6;opacity:0.15;transition:stroke 1.5s ease;}
.circle-progress{fill:none;stroke:url(#glowGradient);stroke-width:6.5;stroke-linecap:round;stroke-dasharray:100;stroke-dashoffset:100;transition:stroke-dashoffset 2s cubic-bezier(0.4,0,0.2,1);filter:drop-shadow(0 0 20px #00ff9d);}
.circle-text-big{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.6rem;font-weight:bold;color:var(--green);text-shadow:0 0 30px var(--green);z-index:10;}

#category-trails{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;}
.category-trail{position:absolute;top:50%;left:50%;width:5px;height:110px;margin-top:-110px;margin-left:-2.5px;background:linear-gradient(to top,transparent 10%,var(--trail-color) 70%);transform-origin:center bottom;opacity:0;animation:trailIn 1.4s ease-out forwards;box-shadow:0 0 25px var(--trail-color);border-radius:3px;}
.category-trail::after{content:attr(data-label);position:absolute;bottom:115px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.9);color:var(--trail-color);padding:9px 18px;border-radius:30px;font-weight:bold;font-size:0.95rem;white-space:nowrap;text-shadow:0 0 15px var(--trail-color);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.15);}
@keyframes trailIn{to{opacity:1}}

/* Trail colors */
.trail-web       {--trail-color:#ff2e63}
.trail-misc      {--trail-color:#39ff14}
.trail-crypto    {--trail-color:#ffea00}
.trail-pwn       {--trail-color:#ff006e}
.trail-forensics {--trail-color:#00ffff}
.trail-rev       {--trail-color:#ff9100}

.solve-counter-sidebar{margin-top:20px;font-size:1.5rem;color:var(--green);font-weight:bold;}

/* ——— SOCIAL LINKS ——— */
.quick-links{margin-top:50px;display:flex;flex-direction:column;gap:18px;}
.quick-links a{color:var(--text);text-decoration:none;padding:12px 20px;background:rgba(255,255,255,0.05);border-radius:12px;transition:all .3s;border:1px solid transparent;text-align:center;font-weight:500;}
.quick-links a:hover{background:var(--accent);color:#000;border-color:var(--accent);transform:translateY(-3px);box-shadow:0 10px 20px rgba(88,166,255,0.4);}

/* ——— THEME & CTF BUTTONS — SAME STYLE ——— */
.toggle, .ctf-toggle{
  position:fixed !important;top:30px;z-index:30;
  background:var(--card);border:2px solid var(--accent);color:var(--accent);
  padding:14px 28px;border-radius:50px;cursor:pointer;font-weight:bold;font-size:1rem;
  box-shadow:0 0 25px rgba(88,166,255,0.5);transition:all .3s;
  backdrop-filter:blur(10px);
}
.toggle:hover, .ctf-toggle:hover{
  background:var(--accent);color:#000;transform:scale(1.08);
  box-shadow:0 0 40px rgba(88,166,255,0.8);
}
.toggle{right:30px;}
.ctf-toggle{left:300px;}
@media (max-width:800px){
  .ctf-toggle{left:20px !important;}
  .toggle{right:20px;}
}

header{text-align:center;padding:80px 20px}
#glitch{font-family:'Orbitron',sans-serif;font-size:5rem;background:linear-gradient(90deg,#58a6ff,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
#glitch:hover{animation:glitch 1s infinite}
@keyframes glitch{0%,100%{text-shadow:0 0 10px #58a6ff}2%{text-shadow:5px 0 #f85149,-5px 0 #3fb950}4%{text-shadow:-5px 0 #f85149,5px 0 #3fb950}}

.terminal{background:#000;color:#0f0;padding:20px;border-radius:12px;margin:40px auto;max-width:800px;box-shadow:0 0 30px #0f03;inset 0 0 20px #0f03;font-size:1.1rem;opacity:0;transform:translateY(30px);transition:all 1s}
.typing::after{content:'|';animation:blink 1s infinite}
@keyframes blink{50%{opacity:0}}

.bio{max-width:700px;margin:40px auto;text-align:center;opacity:0;transform:translateY(30px);transition:all 1s 0.3s}
.bio a{color:var(--accent);text-decoration:none;margin:0 8px}

.section-title{text-align:center;color:var(--accent);font-size:2.5rem;margin:80px 0 40px}
.tabs{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin:50px 0}
.tab{padding:14px 28px;background:var(--card);border:2px solid var(--border);border-radius:50px;cursor:pointer;font-weight:bold;transition:.4s}
.tab.active,.tab:hover{background:var(--accent);color:#000;border-color:var(--accent)}

.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:30px;margin:50px 0;opacity:0;transform:translateY(40px);transition:all 1s}
.card{background:var(--card);border:2px solid var(--border);border-radius:16px;padding:25px;cursor:pointer;position:relative;overflow:hidden;transition:.5s}
.card:hover{transform:translateY(-15px);box-shadow:0 20px 50px rgba(88,166,255,.5);border-color:var(--accent)}

.category-tag{position:absolute;top:15px;right:15px;padding:6px 14px;border-radius:20px;font-size:0.8rem;font-weight:bold}
.tag-misc{background:#3fb950;color:#000}.tag-web{background:#FF0000;color:#000}
.tag-pwn{background:#f85149;color:#fff}.tag-crypto{background:#ffa657;color:#000}
.tag-forensics{background:#9c72ff;color:#fff}.tag-rev{background:#ff79c6;color:#000}

.recent-solves li{margin:22px 0;color:var(--green)!important;font-weight:500}
.recent-solve-item .tag-web{background:var(--green)!important;color:#000!important}

footer{text-align:center;margin:100px 0 50px;opacity:0.6}

/* Modal */
.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);display:flex;align-items:center;justify-content:center;z-index:9999;opacity:0;visibility:hidden;transition:all .5s}
.modal-overlay.open{opacity:1;visibility:visible}
.modal-content{background:var(--card);border:4px solid var(--accent);border-radius:20px;width:92%;max-width:1300px;max-height:88vh;overflow:hidden;padding:0;box-shadow:0 0 100px rgba(88,166,255,.8);transform:scale(0.8);transition:transform .6s cubic-bezier(0.175,0.885,0.32,1.275)}
.modal-overlay.open .modal-content{transform:scale(1)}
.modal-header{background:linear-gradient(135deg,var(--accent),#8b5cf6);padding:30px;text-align:center;position:relative;color:#000}
.modal-header h2{font-family:'Orbitron';font-size:3rem;margin:0}
.close-modal{position:absolute;top:50%;right:30px;transform:translateY(-50%);font-size:4rem;cursor:pointer;opacity:0.8;transition:.3s}
.close-modal:hover{opacity:1;transform:translateY(-50%) rotate(90deg)}
.ctf-grid{padding:40px;display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:30px;max-height:65vh;overflow-y:auto}
.ctf-card{background:rgba(0,0,0,0.4);border:2px solid transparent;border-radius:16px;padding:30px;text-align:center;cursor:pointer;transition:.5s}
.ctf-card:hover{border-color:var(--accent);transform:translateY(-15px);box-shadow:0 20px 50px rgba(88,166,255,.6)}
.ctf-card h3{color:var(--accent);font-size:1.6rem;margin-bottom:12px}

.reveal{opacity:1!important;transform:translateY(0)!important}

@media (max-width:800px){
  .sidebar-left{transform:translateX(-100%)}
  .container{padding-left:20px}
}

#liveClock {
  position: fixed;
  bottom: 30px;
  right: 30px;
  font-family: 'Orbitron', sans-serif;
  font-size: 2.1rem;
  font-weight: 700;
  color: var(--accent);
  background: rgba(13,17,23,0.92);
  padding: 16px 28px;
  border-radius: 50px;
  border: 3px solid var(--accent);
  backdrop-filter: blur(14px);
  z-index: 999;
  box-shadow: 0 0 60px rgba(88,166,255,0.6), inset 0 0 20px rgba(88,166,255,0.2);
  text-shadow: 0 0 20px var(--accent);
  animation: pulseGlow 4s infinite alternate;
  transition: all 0.4s;
}
#liveClock::before {
  content: '';
  position: absolute;
  top: -10px; left: -10px; right: -10px; bottom: -10px;
  background: radial-gradient(circle, rgba(88,166,255,0.4), transparent 70%);
  border-radius: 50px;
  z-index: -1;
  animation: ripple 6s infinite;
}
.light #liveClock {
  background: rgba(255,255,255,0.95);
  color: #1f6feb;
  border-color: #1f6feb;
  box-shadow: 0 0 50px rgba(31,111,235,0.5);
  text-shadow: none;
}

@keyframes pulseGlow {
  from { box-shadow: 0 0 60px rgba(88,166,255,0.6), inset 0 0 20px rgba(88,166,255,0.2); }
  to { box-shadow: 0 0 90px rgba(88,166,255,0.9), inset 0 0 30px rgba(88,166,255,0.4); }
}
@keyframes ripple {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.1); }
}

@media (max-width: 768px) {
  #liveClock {
    bottom: 20px;
    right: 20px;
    font-size: 1.7rem;
    padding: 12px 22px;
  }
}

/* VISITOR COUNTER - Bottom of sidebar */
.visitor-counter {
  margin-top: 60px;
  text-align: center;
  font-size: 1rem;
  color: var(--green);
  opacity: 0.8;
  font-weight: bold;
}
#visitorCount {
  font-family: 'Orbitron', sans-serif;
  font-size: 1.6rem;
  color: var(--accent);
  text-shadow: 0 0 15px var(--accent);
}

/* SEARCH BAR */
#searchBar {
  margin-left: 20px;
  padding: 12px 20px;
  width: 280px;
  max-width: 100%;
  background: var(--card);
  border: 2px solid var(--border);
  border-radius: 50px;
  color: var(--text);
  font-size: 1rem;
  outline: none;
  transition: all 0.4s;
}
#searchBar:focus {
  border-color: var(--accent);
  box-shadow: 0 0 20px rgba(88,166,255,0.5);
  transform: scale(1.03);
}
.light #searchBar { background: #ffffff; }

/* Responsive adjustments */
@media (max-width: 1000px) {
  #liveClock { right: 20px; font-size: 1.5rem; padding: 8px 16px; }
  #searchBar { width: 220px; margin-top: 15px; display: block; margin-left: auto; margin-right: auto; }
}
@media (max-width: 600px) {
  #liveClock { top: 80px; right: 10px; font-size: 1.3rem; }
}
